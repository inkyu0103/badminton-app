generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  id       Int            @id @default(autoincrement()) @map("USER_ID")
  email    String         @unique
  password String
  rank     Rank           @default(E)
  gender   Gender         @default(MALE)
  birthday DateTime       @default(now())
  Review   RacketReview[]

  @@map("USER")
}

model Racket {
  id     Int            @id @default(autoincrement())
  brand  String
  name   String         @unique
  rating Float
  price  Int
  image  String?
  shaft  Shaft
  weight RacketWeight
  Review RacketReview[]
  score  Float

  @@map("RACKET")
}

model RacketReview {
  id         Int    @id @default(autoincrement())
  control    Int
  power      Int
  weight     Int
  design     Int
  durability Int
  review     String
  average    Float
  racketId   Int    @map("racket_id")
  userId     Int    @map("uesr_id")
  racket     Racket @relation(fields: [racketId], references: [id])
  user       User   @relation(fields: [userId], references: [id])

  @@map("RACKET_REVIEW")
}

model Brand {
  id   Int    @id @default(autoincrement())
  name String @unique

  @@map("BRAND")
}

model Verification {
  id       Int       @id @default(autoincrement())
  token    String    @unique
  createAt DateTime? @default(now()) @map("create_at")

  @@map("VERIFICATION")
}

enum Rank {
  S
  A
  B
  C
  D
  E
}

enum Gender {
  MALE
  FEMALE
}

enum RacketWeight {
  W3U
  W4U
  W5U
}

enum Balence {
  HEAD_HEAVY
  EVEN
  HEAD_LIGHT
}

enum Shaft {
  STIFF
  MEDIUM
  FLEXIBLE
}
